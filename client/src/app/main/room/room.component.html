<div class="room-wrapper">
    <div class="chat-menu" *ngIf="currentRoom._id !== 'common'">
        <mat-list class="menu-items">
            <mat-list-item matRipple [matRippleColor]="'rgba(51, 51, 70, 0.2)'" (click)="inviteUsers()">
                Invite friends
                <mat-icon>face</mat-icon>
            </mat-list-item>
            <mat-list-item matRipple [matRippleColor]="'rgba(51, 51, 70, 0.2)'" (click)="leaveRoom()">Leave from chat
                <mat-icon>play_for_work</mat-icon>
            </mat-list-item>
        </mat-list>
    </div>
    <perfect-scrollbar [config]="config">
        <mat-list class="mt-lst">
            <mat-list-item [ngClass]="{'own': message.creator._id === me ,
            'foreign' : message.creator._id !== me}" *ngFor="let message of messages">
                <span class="message-user">
                    <span class="online" *ngIf="users[message.creator._id].online">Online</span>
                    <span [ngClass]="{'premium': users[message.creator._id].premium}">
                        <span *ngIf="users[message.creator._id].premium">ðŸ‘‘</span>
                        {{users[message.creator._id].name}}
                        <span *ngIf="users[message.creator._id].premium">ðŸ‘‘</span>
                    </span>
                </span>
                <p class="message-text">
                    {{message.content}}
                </p>
                <small class="message-date">{{message.createdAt | date: 'HH:MM:ss | dd.MM'}}</small>
            </mat-list-item>
        </mat-list>
    </perfect-scrollbar>

    <div class="input-area">
        <div class="input-message" dir="auto">
            <perfect-scrollbar [config]="config" [autoPropagation]="true">
                <div class="composer_rich_textarea"
                     contenteditable="true"
                     #inputText
                     [id]="currentRoom.title"
                     [appSetReference]="smile"
                >
                </div>
            </perfect-scrollbar>
        </div>
        <div class="wrap-btn">
            <div class="send-btn" (click)="sendMessage()">
                <img style="width: 50px; height: 50px" class="send-img" src="../../../assets/imgs/373675-200.png" alt="">
            </div>
        </div>
        <div class="wrap-btn" (click)="openSmiles()">
            <div class="smile-btn">
                <img style="width: 50px; height: 50px" src="../../../assets/imgs/smile.png" alt="" #smileImg>
            </div>
        </div>
    </div>
</div>
